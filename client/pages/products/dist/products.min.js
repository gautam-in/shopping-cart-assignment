"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}var products,cart,SERVER="http://localhost",PORT="5001";function fetchData(t){return fetch("".concat(SERVER,":").concat(PORT,"/").concat(t)).then(function(t){if(t.ok)return t.json();throw"Something Went Wrong"}).then(function(t){return t}).catch(function(t){return console.log(t)})}function renderCategoryList(){var n,r,e,a;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(fetchData("categories"));case 2:for(n=t.sent,r="",e=0;e<n.length;e++)n[e].enabled&&(r+='\n            <div class="category" key="'.concat(n[e].id,'">\n                <span key="').concat(n[e].id,'">').concat(n[e].name,"</span>\n            </div>\n            "));(a=document.getElementById("category__list")).innerHTML+=r,a.addEventListener("click",function(t){var n=t.target;n.hasAttribute("key")&&renderProductsList(n.getAttribute("key"))});case 8:case"end":return t.stop()}})}function renderProductsList(n){var r,e,a;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(fetchData("products"));case 2:for(products=t.sent,e="",r=n?(n="?"==n.charAt(0)?n.substring(1):n,products.filter(function(t){if(t.category===n)return t})):_toConsumableArray(products),a=0;a<r.length;a++)e+='\n        <div class="product__card">\n            <div class="product__heading">\n                <h3>'.concat(r[a].name,'</h3>\n            </div>\n            <div class="product__subcard">\n                <img width="250" height="250" src="../../../').concat(r[a].imageURL,'" alt="').concat(r[a].name,'"/>\n                <div class="product__desc">\n                    <div class="product__detail">\n                        <p>').concat(r[a].description,'</p>\n                    </div>\n                    <div class="product__price">\n                        <span id="price">Rs. ').concat(r[a].price,"</span>\n                        <button onclick=\"buyProduct('").concat(r[a].id,'\')">Buy Now <span id="atsymbol">@</span></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        '),document.getElementById("products__container").innerHTML=e;case 6:case"end":return t.stop()}})}function buyProduct(n){var t=products.filter(function(t){if(n===t.id)return t});cart||((cart=new Cart([],1)).render(),cart.showCart()),cart.addCartItem(t)}function openCart(){cart||(cart=new Cart([],0)).render(),cart.showCart()}function dropdownOnChange(t){renderProductsList("?"+t)}renderCategoryList(),renderProductsList(window.location.search);
//# sourceMappingURL=products.min.js.map
