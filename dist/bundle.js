/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/***/ (() => {

eval("\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction fetchBanners() {\n  return _fetchBanners.apply(this, arguments);\n}\n\nfunction _fetchBanners() {\n  _fetchBanners = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var res, data;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch('http://localhost:5000/banners');\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            data = _context.sent;\n            createSlider(data);\n            console.log('data from banners', data);\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 11]]);\n  }));\n  return _fetchBanners.apply(this, arguments);\n}\n\nfunction fetchCategories() {\n  return _fetchCategories.apply(this, arguments);\n}\n\nfunction _fetchCategories() {\n  _fetchCategories = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var res, data;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return fetch('http://localhost:5000/categories');\n\n          case 3:\n            res = _context2.sent;\n            _context2.next = 6;\n            return res.json();\n\n          case 6:\n            data = _context2.sent;\n            createCategoriesSection(data);\n            console.log('data from categories', data);\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 11]]);\n  }));\n  return _fetchCategories.apply(this, arguments);\n}\n\nfetchBanners();\nfetchCategories();\n\nvar createSlider = function createSlider(banners) {\n  var slider = document.getElementById('banners'); // Create image sliders from banners Array\n\n  banners.map(function (banner, index) {\n    var bannerImageAlt = banner.bannerImageAlt,\n        bannerImageUrl = banner.bannerImageUrl,\n        id = banner.id;\n    var bannerItem = document.createElement('div');\n    bannerItem.classList = index === 0 ? \"slider-item active\" : \"slider-item\";\n    var bannerImg = document.createElement('img');\n    bannerImg.classList = 'img-fluid';\n    bannerImg.src = bannerImageUrl;\n    bannerImg.alt = bannerImageAlt;\n    bannerItem.appendChild(bannerImg);\n    slider.appendChild(bannerItem);\n  }); // Create dots of slider\n\n  var dotsElm = document.createElement('ul');\n  dotsElm.id = 'dots';\n  dotsElm.classList = 'list-inline dots';\n  slider.appendChild(dotsElm);\n  var sliderItem = slider.getElementsByTagName('div');\n  var dots = document.getElementById('dots');\n  var dotsChild = document.getElementById('dots').getElementsByTagName('li');\n\n  for (var i = 0; i < sliderItem.length; i++) {\n    dots.appendChild(document.createElement('li'));\n    dotsChild[i].classList.add('list-inline-item');\n    dotsChild[i].setAttribute('id', i);\n    dotsChild[i].innerHTML = i;\n    dotsChild[0].classList.add('active');\n    dotsChild[i].addEventListener('click', runSlider);\n  }\n\n  function runSlider() {\n    var dnum = this.getAttribute('id');\n\n    for (var _i = 0; _i < sliderItem.length; _i++) {\n      sliderItem[_i].classList.remove('active');\n\n      sliderItem[dnum].classList.add('active');\n\n      dotsChild[_i].classList.remove('active');\n\n      dotsChild[dnum].classList.add('active');\n    }\n  }\n};\n\nvar createCategoriesSection = function createCategoriesSection(categories) {\n  var categoriesSection = document.getElementById('categories');\n  categories = categories.filter(function (item) {\n    return item.enabled;\n  });\n  categories.map(function (category, index) {\n    var description = category.description,\n        imageUrl = category.imageUrl,\n        name = category.name,\n        key = category.key;\n    var article = document.createElement('article');\n\n    if (index % 2 === 0) {\n      article.classList = 'flex flex-jc-sa category curved';\n    } else article.classList = 'flex flex-row-reverse flex-jc-sa category curved';\n\n    var categoryImg = document.createElement('img');\n    categoryImg.classList = 'img-cat';\n    categoryImg.src = imageUrl;\n    categoryImg.alt = name;\n    article.appendChild(categoryImg);\n    var categoryInfo = document.createElement('div');\n    categoryInfo.classList = 'category-info';\n    var h2 = document.createElement('h2');\n    h2.innerText = name;\n    var p = document.createElement('p');\n    p.innerText = description;\n    var button = document.createElement('button');\n    button.type = 'button';\n    button.classList = 'button-primary';\n    button.innerText = \"Explore \".concat(key);\n    categoryInfo.appendChild(h2);\n    categoryInfo.appendChild(p);\n    categoryInfo.appendChild(button);\n    article.appendChild(categoryInfo);\n    categoriesSection.appendChild(article);\n  });\n};\n\n//# sourceURL=webpack://code-exercise/./src/js/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/index.js"]();
/******/ 	
/******/ })()
;